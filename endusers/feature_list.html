<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
@authors: Tamas Kohegyi
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <title>Wilma Feature List</title>

    <link rel="stylesheet" href="../static/elstyle.css" type="text/css"/>
    <link rel="stylesheet" href="../static/pygments.css" type="text/css"/>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <link id="favicon" rel="shortcut icon" type="image/png" href="../static/icon-wilma.png" />
    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">
</head>
<body>

<div class="document">
    <div class="documentwrapper">
        <div class="bodywrapper">
            <div class="body">

                <div class="section" id="wilma-open-source">
                    <h1>Wilma Feature List</h1>
                </div>

                <h2>Configuring Wilma at run time</h2>

                <p>Wilma has a home page, where basic configurations can be made at run time.
                    You can reach the home page under the following URL after Wilma has started: <strong>http://<em>wilma-url</em>:<em>internal-port</em>/index</strong>.
                </p>
                <ul>
                    <li>
                        <strong>
                            <em>wilma-url </em>
                        </strong>is the address of the server where Wilma is running.
                    </li>
                    <li>
                        <strong>
                            <em>internal-port</em>
                        </strong> is the port of the internal web server in Wilma that is configured in <code>wilma.conf.properties </code>(default
                        is <strong>
                        <em>1234</em>
                    </strong>)
                    </li>
                </ul>
                <p>The <b>Wilma home page</b> currently contains two configuration groups: <b>Message Logging</b> and <b>Operation Mode</b> switches. <p/>
                Regarding <b>Message Logging</b>, it can be turned on and off. By turning Message Logging on, every HTTP/S request and response that goes through Wilma will be logged.<p/>
                Regarding <b>Operation Mode</b>, you can influence the major behavior of Wilma:
                <ul style="list-style-type: square;">
                    <li><b>Switch between modes</b>: can be switched between WILMA, PROXY and STUB modes. See more <a href="https://github.com/epam/Wilma/wiki/Wilma-Operation-Modes">here...</a>.</li>
                    <li><b>Interceptor usage</b>: enabling/disabling message interceptors. See more <a href="https://github.com/epam/Wilma/wiki/Stub-Configuration---Interceptors">here...</a>.</li>
                    <li><b>Localhost blocking</b>: enabling/disabling Localhost blocking feature, see more <a href="https://github.com/epam/Wilma/wiki/Localhost-Blocking">here...</a>.</li>
                    <li><b>Sequence handling</b>: enabling/disabling the build-in Message Sequence handling. See more <a href="https://github.com/epam/Wilma/wiki/Sequence-Handling">here...</a>.</li>
                </ul>

                <p>Note: <b>Switch changes has immediate affect on Wilma operation!</b></p>

                <p>Configuring switches via direct url:</p>
                <ul style="list-style-type: square;">
                    <li>Get status of message logging: <pre>http://wilma-url:internal-port/config/public/logging/status</pre>
                    </li>
                    <li>Turn ON message logging: <pre>http://wilma-url:internal-port/config/admin/logging/on</pre>
                    </li>
                    <li>Turn OFF message logging: <pre>http://wilma-url:internal-port/config/admin/logging/off</pre>
                    </li>
                    <li>Get status of operation mode: <pre>http://wilma-url:internal-port/config/public/switch/status</pre>
                    </li>
                    <li>Set operation mode: <pre>http://wilma-url:internal-port/config/admin/switch/[MODE]</pre> where MODE can be
                        wilma, stub and proxy.
                    </li>
                </ul>
                <h2>Stub configuration</h2>
                <p>The Stub part of Wilma is configured via Xml file(s). Details about how the Stub Configuration should be used can be found <a href="https://github.com/epam/Wilma/wiki/Stub-Configuration">here...</a>.</p>
                <p>Wilma can handle multiple stub configurations. With this feature grouping of stub functions (by team, by stubbed application, etc.) can be used.
                    See details about this possibility <a href="https://github.com/epam/Wilma/wiki/Multi-Stub-Configuration">here...</a>.</p>
                <p>The schema of the stub configuration xml that is used by Wilma can be accessed at the following address:</p>
                <p>
                    <a href="http://epam.github.io/Wilma/xsd/StubConfig.xsd">http://epam.github.io/Wilma/xsd/StubConfig.xsd</a>
                </p>
                <h2>Uploading External Resources</h2>
                <p>There are four kinds of external resources those can be uploaded to Wilma, and each use different addresses for the upload.
                </p>
                <ul>
                    <li><b>condition checkers:</b><br/>An external condition checker class can be uploaded to the following
                        url, with a file name parameter: <pre>http://wilma-url:internal-port/config/admin/stub/conditionchecker</pre> 
                    </li>
                    <li><b>templates</b><br/>A response template can be uploaded to the following url, with a file name parameter: <pre>http://wilma-url:internal-port/config/admin/stub/templates</pre>
                    </li>
                    <li><b>template formatters</b><br/>
                        A template formatter can be uploaded to the following url, with a file name parameter: <pre>http://wilma-url:internal-port/config/admin/stub/templateformatter</pre>
                    </li>
                    <li><b>stub configuration</b><br/>A new stub configuration can be uploaded to the following url, with a file name parameter: <pre>http://wilma-url:internal-port/config/admin/stub/stubconfig</pre>
                    </li>
                </ul>
                By using the `curl` command, this can be done in the following way: <pre># this example uploads 'ExternalConditionChecker.class'
# the class should be in the folder the command is executed.
# don't forget the fileName parameter at the end of the command!
curl -X POST --data-binary @ExternalConditionChecker.class http://wilma-url:internal-port/config/admin/stub/conditionchecker?fileName=ExternalConditionChecker.class</pre>
                <p><b>Note:</b> If the file name is not provided as parameter in the url,
                    the file will not be uploaded successfully.</p>

                <p>Wilma also has a UI page (the /stubconfig), where the list of dialog descriptors of the actual stub
                    configuration, the uploaded interceptors, condition checkers, template formatters, templates, sequence handler and jars
                    are visible, can be viewed and downloaded. New files can uploaded here as well, such as a new stub configuration and new resources.
                </p>

                <h2>Getting the Message Logs</h2>
                <p>There is a /messages page on Wilma UI, where configuration regarding the message logging can be viewed. Also the
                    message log files can be downloaded from here. Their content can be viewed online by clicking on the '[Source]' link next to the message file.</p>
                <p><b>Note:</b> If you need more sophisticated message search functionality, there is a lucene index based
                    search engine solution, that is the <a href="https://github.com/epam/Wilma/wiki/Wilma-Message-Search-Application">Wilma Message Search application</a>.
                </p>

                <h2>Getting the Wilma Application Logs</h2>
                <p>The Wilma application log files can be accessed at the page /logs via UI. Their source can be also viewed
                    online by clicking on the '[Source]' link next to the file name.</p>

                <p>The level of application logging can be configured from the logback.xml. By default it is set to INFO
                    level. For DEBUG level information the following configuration should be changed from INFO to DEBUG:</p>
                <pre>&lt;root level="INFO"&gt;
   &lt;appender-ref ref="${logger:-EMPTY}"/&gt;
   &lt;appender-ref ref="FILE-APP"/&gt;
&lt;/root&gt;
                </pre>

                <h2>Shutting down Wilma</h2>

                <p>You can shutdown Wilma by sending a GET/POST request to the '/config/admin/shutdown' URL.</p>

            </div>
        </div>
    </div>
    <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo">
            <a href="#">
                <img class="logo" src="../static/EPAM_LOGO_gray_blue.png" alt="Logo"/>
            </a>
        </p>

            <p/>

            <h3>Table Of Contents</h3>
            <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Wilma Home page</a></li>
                <li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction to
                    Wilma</a></li>
                <li class="toctree-l1"><a class="reference internal" href="q_and_a.html">Questions and Answers</a></li>
                <li class="toctree-l1"><a class="reference internal" href="index.html">End-user information</a></li>
                <li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developer
                    information</a></li>
                <li class="toctree-l1"><a class="reference internal" href="../download/index.html">Downloads</a></li>
                <li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact Info</a></li>
            </ul>
        </div>
    </div>
    <div class="clearer"></div>
</div>
<div class="footer">
    &copy;2015, EPAM Systems.
</div>


</body>
</html>